/// <reference types="node" />
import { Browser, BrowserContext, Dialog, Frame, Page } from 'playwright-core';
import { PassThrough } from 'stream';
import { AdapterController } from '../../types/adapter/adapter-controller';
import { ClientInfo } from '../../types/client/client-info';
import { Engine } from '../../types/engine';
import { Session } from '../../types/session-phase-run-info/session';
import { ClientFunctionArgs } from '../../types/test-api/client-function/client-function-args';
import { ClientLogs } from '../../types/test-api/controller/client-logs';
import { Cookie } from '../../types/test-api/controller/cookie';
import { DragToSelectorOptions } from '../../types/test-api/controller/drag-to-selector-options';
import { FillActionOptions } from '../../types/test-api/controller/fill-action-options';
import { HandleDialogOptions } from '../../types/test-api/controller/handle-dialog-options';
import { HandleRouteParams } from '../../types/test-api/controller/handle-route-params';
import { HudParams } from '../../types/test-api/controller/hud-params';
import { KeyModifiers } from '../../types/test-api/controller/key-modifiers';
import { NetworkCondition } from '../../types/test-api/controller/network-condition';
import { RecordVideoOptions } from '../../types/test-api/controller/record-video-options';
import { PlayWrightSelector } from './selector';
interface VideoSession {
    filePath: string;
    stream: PassThrough;
    recorder: Promise<void>;
    cdpSession: any;
    startTime: number | undefined;
    endTime: number | undefined;
    options: {
        path: string;
        frameFormat?: 'png' | 'jpeg';
        quality?: number;
        width?: number;
        height?: number;
    };
}
export declare class Controller implements AdapterController {
    id: string;
    session: Session;
    parentPage: Page;
    activePage: Page;
    activeFrame: Frame;
    previousPage: Page | null;
    pages: Map<string, Page>;
    videos: {
        mimeType: string;
        path: string;
    }[];
    t: Frame;
    unhandledDialog: Dialog | undefined;
    videoSessions: Map<string, VideoSession>;
    private dialogHandlerFunction;
    private browser;
    private browserName;
    private context;
    private engine;
    private lastClipboard;
    private traceFilePath;
    private loading;
    private handledPopUps;
    private dialogHandlerFunctionShouldBeDisposed;
    constructor({ browser, browserName, context, engine }: {
        browser: Browser;
        browserName: string;
        context: BrowserContext;
        engine: Engine;
    });
    setup(activePage?: Page): Promise<void>;
    reset(activePage: Page): Promise<void>;
    focus(selector: PlayWrightSelector): Promise<void>;
    blur(selector: PlayWrightSelector): Promise<void>;
    fillField(selector: any, text: string, options?: FillActionOptions): Promise<void>;
    appendField(selector: any, text: string, options?: FillActionOptions): Promise<void>;
    prependField(selector: any, text: string, options?: FillActionOptions): Promise<void>;
    clearField(selector: any): Promise<void>;
    select(selector: PlayWrightSelector): Promise<void>;
    selectOption(selector: any, option: string | number | {
        label?: string;
        value?: string;
        index?: number;
    } | string[] | number[] | {
        label?: string;
        value?: string;
        index?: number;
    }[]): Promise<{
        index: number;
        label: string;
        value: any;
    }[]>;
    deselectOption(selector: any, option: string | number | string[] | number[] | {
        label?: string;
        value?: string;
        index?: number;
    }[]): Promise<{
        index: number;
        label: string;
        value: any;
    }[]>;
    checkOption(selector: any): Promise<void>;
    uncheckOption(selector: any): Promise<void>;
    pressKey(key: string): Promise<void>;
    pressUpKey(key: string): Promise<void>;
    pressDownKey(key: string): Promise<void>;
    pressEnterKey(): Promise<void>;
    pressTabKey(): Promise<void>;
    pressArrowUpKey(): Promise<void>;
    pressArrowDownKey(): Promise<void>;
    pressArrowLeftKey(): Promise<void>;
    pressArrowRightKey(): Promise<void>;
    click(selector: PlayWrightSelector, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    doubleClick(selector: PlayWrightSelector, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    middleClick(selector: PlayWrightSelector, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    rightClick(selector: PlayWrightSelector, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    hover(selector: any, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    mouseUp(options?: {
        button: `left` | `middle` | `right`;
        modifiers?: KeyModifiers;
    }): Promise<void>;
    mouseDown(options?: {
        button: `left` | `middle` | `right`;
        modifiers?: KeyModifiers;
    }): Promise<void>;
    mouseMove(x: number, y: number, options?: {
        modifiers?: KeyModifiers;
    }): Promise<void>;
    drag(selector: any, dragOffsetX: number, dragOffsetY: number, options?: DragToSelectorOptions): Promise<void>;
    dragToSelector(selector: any, destinationSelector: any, options?: DragToSelectorOptions): Promise<void>;
    moveCursorToSelector(selector: any, offsetX: number, offsetY: number): Promise<void>;
    selectText(selector: any, startPos?: number, endPos?: number): Promise<void>;
    selectContent(selector: any): Promise<void>;
    selectEditableContent(startSelector: any, endSelector: any): Promise<void>;
    selectTextAreaContent({ selector, startLine, startPosition, endLine, endPosition }: {
        selector: any;
        startLine?: number;
        startPosition?: number;
        endLine?: number;
        endPosition?: number;
    }): Promise<void>;
    upload(selector: any): Promise<void>;
    setFilesToUpload(selector: any, filePath: string | string[]): Promise<void>;
    clearUpload(selector: any): Promise<void>;
    scrollToTop(): Promise<void>;
    scrollToBottom(): Promise<void>;
    scrollToSelector(selector: any, offsetX: number, offsetY: number): Promise<void>;
    scrollTo(offsetX: number, offsetY: number): Promise<void>;
    goto(url: string): Promise<void>;
    refresh(): Promise<void>;
    go(delta: number): Promise<void>;
    goForward(): Promise<void>;
    goBackward(): Promise<void>;
    maximizeWindow(): Promise<void>;
    resizeWindow(width: number, height: number): Promise<void>;
    switchToFrame(selector: any): Promise<void>;
    switchToMainFrame(): Promise<void>;
    switchToWindow(window: {
        id: string;
    }): Promise<void>;
    switchToParentWindow(): Promise<void>;
    switchToPreviousWindow(): Promise<void>;
    openWindow(url: string): Promise<{
        id: string;
    }>;
    closeWindow(window: {
        id: string;
    }): Promise<void>;
    getCurrentWindow(): Promise<{
        id: string;
    }>;
    handleNativeDialog(fn: ((type: 'alert' | 'confirm' | 'beforeunload' | 'prompt', text: string, url?: string) => any) | null, options?: HandleDialogOptions): Promise<void>;
    setCookie(cookie: {
        name: string;
        value: string;
        domain?: string;
        path?: string;
        expires: number;
        secure?: boolean;
        sameSite?: `lax` | `strict` | `none`;
    }): Promise<void>;
    getCookie(cookieName: string): Promise<Cookie | null>;
    clearCookie(cookieName: string): Promise<void>;
    deleteCookie(cookieName: string): Promise<void>;
    setLocalStorage(name: string, value: string): Promise<void>;
    getLocalStorage(name: string): Promise<string | null>;
    removeLocalStorage(name: string): Promise<void>;
    setSessionStorage(name: string, value: string): Promise<void>;
    getSessionStorage(name: string): Promise<string | null>;
    removeSessionStorage(name: string): Promise<void>;
    eval<Arg, R>(fn: (arg: ClientFunctionArgs<Arg>) => R | Promise<R>, arg?: ClientFunctionArgs<Arg>): Promise<R>;
    getFrames(onlyMainFrame?: boolean): Promise<Frame[] | boolean>;
    getClientInfo(): Promise<ClientInfo>;
    debug(): Promise<void>;
    getClientLogs(): Promise<ClientLogs>;
    takeScreenshot(path: string, options?: {
        fullPage: boolean;
    }): Promise<void>;
    takeSelectorScreenshot(selector: any, path: string): Promise<void>;
    recordVideo(options: RecordVideoOptions): Promise<{
        id: string;
        pause: () => Promise<void>;
        resume: () => Promise<void>;
        stop: () => Promise<void>;
    }>;
    handleRoute({ url, handler }: HandleRouteParams): Promise<void>;
    emulateNetworkConditions(condition: NetworkCondition): Promise<void>;
    startTracing(params: {
        path: string;
    }): Promise<void>;
    stopTracing(): Promise<void>;
    getScrollPosition(): Promise<{
        left: number;
        top: number;
    }>;
    getTitle(): Promise<string>;
    getCurrentUrl(): Promise<string>;
    getSource(): Promise<string>;
    cut(params?: {
        value?: string;
        selector?: any;
        format?: 'text/plain' | 'text/html' | 'default';
        store?: {
            value: string;
        };
    }): Promise<void>;
    copy(params?: {
        value?: string;
        selector?: any;
        format?: 'text/plain' | 'text/html' | 'default';
        store?: {
            value: string;
        };
    }): Promise<void>;
    paste(to: any, store?: {
        value: string;
    }): Promise<void>;
    getSpecStates({ feature, scenario, step, subStep }: {
        feature: {
            name: string;
        };
        scenario: {
            name: string;
            keyword: string;
        };
        step: {
            name: string;
            keyword: string;
        };
        subStep?: {
            name: string;
        };
    }): Promise<void>;
    getVideos(): Promise<{
        mimeType: string;
        path: string;
    }[]>;
    private canOpenCDP;
    private handleClosingWindow;
    private setCurrentPage;
    private setCurrentFrame;
    private getElementHandle;
    private getDomPath;
    private correctModifiers;
    private popupHandler;
    private dialogHandler;
    updateInfoHud(hudParams: HudParams): Promise<void>;
    disableInfoHud(): Promise<void>;
}
export {};
